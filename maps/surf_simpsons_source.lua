SURF.Payout = 10500

SURF.TrialVectors = {Vector(3904.8999023438,4511.9370117188,-191.96875),Vector(5439.96875,4545.392578125,55.071731567383)}

CubeLines={
	{Vector(4640.146484375,4293.69140625,-191.96875),Vector(5789.3032226563,-5087.3774414063,-1407.96875),Vector(6956.2099609375,-4288.03125,-1015.4586791992)},
	{Vector(6192.0346679688,-4718.3720703125,-1407.96875),Vector(-6512.4506835938,6970.2846679688,-479.96875),Vector(-5504.03125,6276.521484375,-226.97705078125)},
	{Vector(-5983.0756835938,6853.97265625,-479.96875),Vector(-1017.7911987305,2949.5146484375,-63.96875),Vector(831.96887207031,3859.0512695313,458.83441162109)},
	{Vector(-512.10040283203,3400.3466796875,-63.96875),Vector(-11827.266601563,730.33209228516,0.03125),Vector(-10004.681640625,-575.96875,684.75659179688)},
	{Vector(-11160.53515625,550.53820800781,0.03125),Vector(5543.318359375,-14146.625976563,144.03125),Vector(7679.96875,-12936.830078125,806.64300537109)},
	{Vector(6168.6499023438,-13607.2734375,144.03125),Vector(10624.03125,-7230.0581054688,-521.51580810547),Vector(12337.7734375,-8127.96875,-86.041809082031)},
	{Vector(11586.055664063,-7472.7680664063,-511.96875),Vector(-5088.2709960938,-3700.7236328125,-703.96875),Vector(-3200.03125,-2650.3583984375,-114.25726318359)},
	{Vector(-4534.4516601563,-3096.5341796875,-703.96875),Vector(-21.396362304688,-10419.327148438,-383.96875),Vector(2367.96875,-9082.6572265625,264.70867919922)},
	{Vector(792.18640136719,-9837.9716796875,-383.96875),Vector(-9536.03125,-7750.5073242188,1280.9139404297),Vector(-11071.96875,-8703.0107421875,1998.7551269531)},
	{Vector(-10340.497070313,-8164.8598632813,1280.03125),Vector(-4115.2846679688,-8832.03125,-1787.1320800781),Vector(-4855.96875,-9206.5556640625,-1664.0479736328)},
}

Areas={
	{a=Vector(0,0,0),b=Vector(-10988.001953125,-8698.23046875,1280.03125),c=Vector(-11036.544921875,-7447.2006835938,2367.96875), t='coll', d=Vector(-10344.86328125,-8249.1845703125,1280.03125)},
	{a=Vector(0,0,0),b=Vector(-11001.390625,-8569.189453125,2258.1611328125),c=Vector(-7488.03125,-2240.1079101563,2303.8269042969), t='coll'},
}

SURF.autohopZones = {
	{Vector(6080.03125,-4287.53125,-1342.7957763672), Vector(6335.96875,-1856.8552246094,-1270.3446044922), Vector(6211.123046875,-4132.8383789063,-1342.96875)},
	{Vector(-6275.1494140625,9452.8515625,-607.96875), Vector(-5761.154296875,9986.96875,-479.86077880859), Vector(-5967.0888671875,9697.8310546875,-606.96875)},
	{Vector(-10942.233398438,1728.5987548828,-443.96875), Vector(-11453.36328125,2239.6525878906,-270.96875), Vector(-11235.836914063,2007.248046875,-443.96875)},
	{Vector(-10942.100585938,3264.34765625,-443.96875), Vector(-11453.123046875,3775.4443359375,-270.96875), Vector(-11204.203125,3459.3896484375,-443.96875)},
	{Vector(-11453.3203125,5311.7719726563,-443.96875), Vector(-10942.35546875,4800.6279296875,-270.96875), Vector(-11183.913085938,5014.7983398438,-443.96875)},
}

SURF.splitInfo = {
	{Vector(7466.6459960938,-4464.5732421875,-1407.96875), Vector(4944.03125,-5419.421875,-908.32165527344), target = 1, type = 'end'},
	{Vector(6080.31640625,-4288.03125,-1343.7392578125), Vector(6335.96875,-3449.9912109375,-836.13305664063), target = 2, type = 'start'},
	{Vector(-5776.2036132813,6715.9096679688,-479.96875), Vector(-5632.03125,6572.8076171875,-226.49612426758), target = 2, type = 'end'},
	{Vector(-6527.96875,7052.234375,-480.17926025391), Vector(-5504.03125,7613.2436523438,-128.43551635742), target = 3, type = 'start'},
	{Vector(-80.217277526855,3280.4104003906,-63.968746185303), Vector(63.968765258789,3137.1201171875,190.0101776123), target = 3, type = 'end'},
	{Vector(-1343.8778076172,3879.1740722656,-63.96875), Vector(191.85789489746,3679.7595214844,250.96875), target = 4, type = 'start'},
	{Vector(-10704.147460938,479.89349365234,0.03125), Vector(-10560.03125,337.00442504883,253.94346618652), target = 4, type = 'end'},
	{Vector(-11967.874023438,1159.54705810547,0.031251907348633), Vector(-10432.125,959.81182861328,200.03125), target = 5, type = 'start'},
	{Vector(6640.0166015625,-13536,144.04495239258), Vector(6783.96875,-13678.5,399.23852539063), target = 5, type = 'end'},
	{Vector(5376.24609375,-12684.375976563,144.03125), Vector(6911.9169921875,-13184.1640625,644.03125), target = 6, type = 'start'},
	{Vector(12007.944335938,-7536.021484375,-511.96875), Vector(12151.96875,-7678.984375,-258.31695556641), target = 6, type = 'end'},
	{Vector(10752.29296875,-6932.5063476563,-511.96875), Vector(12287.829101563,-7232.1538085938,-211.96875), target = 7, type = 'start'},
	{Vector(-4047.263671875,-3104.2912597656,-703.66442871094), Vector(-3904.03125,-3246.8171386719,-450.21771240234), target = 7, type = 'end'},
	{Vector(-5311.8627929688,-2602.3371582031,-703.96875), Vector(-3776.0847167969,-2752.1030273438,-303.96875), target = 8, type = 'start'},
	{Vector(1232.0046386719,-9760.03125,-383.92391967773), Vector(1375.96875,-9902.458984375,-130.52098083496), target = 8, type = 'end'},
	{Vector(-31.82501411438,-9108.48828125,-383.96875), Vector(1503.8319091797,-9408.185546875,283.96875), target =  9, type = 'start'},
	{Vector(-830.73480224609,-2238.5935058594,-1663.96875), Vector(2237.9079589844,-704.03125,894.65966796875), target = 9, type = 'end'},
	{Vector(-11071.684570313, -7744.451171875, 1280.03125), Vector(-9536.03125,-7134.7724609375,2254.3558349609), target = 10, type = 'start'},
}


hook.Add("InitPostEntity", "CreateZones", function()
	SURF.CreateAutoHopZones()
	
	local platformPrefix = "E"
	for i=1, 3 do
		local plat = ents.FindByName(Format("%s%d", platformPrefix, i))[1]
		plat:SetKeyValue("maxspeed", "0")
		plat:SetKeyValue("startspeed", "0")
		plat:SetKeyValue("speed", "0")
		
	end

	local x = "-11197.683594"
	local trackPrefix = "k"
	for i=1, 5, 2 do
		local trainStart = ents.FindByName(Format("%s%d", trackPrefix, i))[1]
		local trainStartPos = trainStart:GetPos()
		trainStart:SetPos(Vector(x, trainStartPos.y, trainStartPos.z))
	end
end)

EntCleanup={
	"t18",
	"t17",
	"B12",
	"Z8",
	"B11",
	"Counter",
	"Z7",
	"Z5",
	"B9",
	"Z4",
	"Z6",
	"B10",
	"ButtonReset",
	"B8",
	"B7",
	"B6",
	"Z1",
	"B5",
	"Z2",
	"B4",
	"B3",
	"B1",
	"B2",
	"Z3",
	"t_zj",
	"B14",
	"trigger_gravity"
}

