SURF.Payout = 5500
SURF.disableNoRunZones = true
SURF.TrialVectors = {Vector(-895.96875, -8319.68359375, 14335.55078125), Vector(895.96875, -8281.015625, 14516.961914063)}


CubeLines={
	{Vector(-4.1173229217529,-8424.822265625,14336.03125),Vector(-893.47601318359,-3197.77734375,13312.03125),Vector(865.22222900391,-2701.4777832031,14399.96875)},
	{Vector(-3.0302789211273,-2781.5856933594,13312.03125),Vector(-894.75457763672,7873.203125,11328.03125),Vector(873.47973632813,8367.7568359375,12351.96875)},
	{Vector(-69.338684082031,8237.388671875,11328.03125),Vector(894.99487304688,-9280.529296875,6784.03125),Vector(-881.30230712891,-9759.310546875,8063.96875)},

	-- Stage 4 has dual completions
	{Vector(10.58546257019,-9692.6787109375,6784.03125),
		{
			{Vector(-5950.4038085938,-2047.5598144531,3904.03125),Vector(-4170.8330078125,-1586.0596923828,4575.96875)},
			{Vector(4160.03125, -2047.4483642578, 3904.2966308594), Vector(5951.96875, -1538.8981933594, 4572.3974609375)},
		}
	},

	{Vector(-4909.4448242188,-1613.61328125,3904.03125),Vector(-894.82427978516,4609.2021484375,928.03125),Vector(885.63873291016,5105.0893554688,2591.96875)},
	{Vector(-11.923502922058,5084.603515625,928.03125),Vector(895.96875,61.543380737305,-4958.7592773438),Vector(-895.96875,-954.24041748047,-4002.6440429688)},
}


local stepAutohopZones = {
	{Vector(-895.17767333984,-4992.7778320313,14022.498046875), Vector(888.68347167969,-4495.9018554688,12800.03125), maxHops = 3, enable = true},
	{Vector(-1706.5518798828,5578.23828125,11264.03125), Vector(1788.755859375,7103.96875,12478.514648438), maxHops = 2, enable = true},
	{Vector(1469.841796875,-6653.8862304688,6081.88671875), Vector(-1471.96875,-7935.5068359375,8049.1767578125), maxHops = 2, enable = true},
	{Vector(4160.03125,-3368.12890625,4798.0971679688), Vector(5938.8901367188,-3839.96875,2504.1779785156), maxHops = 2, enabled = true}, -- Stage 4 right side
	{Vector(-5951.96875,-3489.5009765625,4794.203125), Vector(-4160.03125,-3833.2143554688,2444.96875), maxHops = 2, enable = true},
	{Vector(-872.38220214844,1446.66796875,544.03125), Vector(895.96868896484,2489.2077636719,1808.8406982422), maxHops = 2, enable = true},

	-- These are the ones that disable it after each stage
	{Vector(-891.51940917969,-2682.1804199219,13056.03125), Vector(1727.96875,-1665.0074462891,14376.338867188)},
	{Vector(-895.96875,8384.3603515625,11322.795898438), Vector(895.96875,9984.234375,12300.268554688)},
	{Vector(895.96875,-9801.2607421875,6778.736328125), Vector(-1535.9688720703,-11937.186523438,7998.2436523438)},
	{Vector(4160.03125,-1365.3302001953,4569.6235351563), Vector(7007.96875,-90.726806640625,2671.6821289063)},
	{Vector(-4160.03125,-1171.4230957031,4563.6376953125), Vector(-7007.96875,201.89331054688,2662.2924804688)},
	{Vector(-2783.96875,5121.654296875,2587.2580566406), Vector(2783.96875,7751.4858398438,-259.06909179688)},

	-- Jump box
	{Vector(-1085.888671875,1590.9562988281,-2208.03125), Vector(1087.96875,-1840.3868408203,-3378.9328613281), maxHops = 1, enabled = true}
}

SURF.splitInfo = {
	{Vector(-895.8330078125,-4479.9741210938,13312.03125), Vector(893.50256347656,-3199.96875,13901.713867188), target = 1, type = 'end'},
	{Vector(895.96875,-2687.9467773438,13312.055664063), Vector(-1727.9685058594,-1444.5606689453,14394.453125), target = 2, type = 'start'},
	{Vector(-892.77239990234,6594.9135742188,11328.03125), Vector(894.16967773438,7872.03125,11926.853515625), target = 2, type = 'end'},
	{Vector(894.55169677734,8382.6220703125,11328.03125), Vector(-885.82043457031,10175.96875,12326.190429688), target = 3, type = 'start'},
	{Vector(895.06420898438,-8000.1274414063,6784.03125), Vector(-892.47186279297,-9280.03125,7370.6928710938), target = 3, type = 'end'},
	{Vector(-895.96875,-9791.5615234375,6784.0400390625), Vector(895.96868896484,-11105.893554688,8061.3120117188), target = 4, type = 'start'},
	{Vector(4160.7900390625,-3327.8635253906,3904.03125), Vector(5950.0541992188,-2047.96875,4547.0991210938), target = 4, type = 'end'},
	{Vector(-5950.2509765625,-3325.8024902344,3904.03125), Vector(-4161.7236328125,-2044.1607666016,4575.96875), target = 4, type = 'end'},
	{Vector(4160.03125,-1535.0517578125,3903.6469726563), Vector(7007.96875,568.18444824219,4567.5966796875), target = 5, type = 'start'}, 
	{Vector(-4160.08203125,-1535.96875,3903.9345703125), Vector(-7007.96875,332.15948486328,4560.177734375), target = 5, type = 'start'},
	{Vector(-894.61071777344,3329.9729003906,928.03125), Vector(894.357421875,4608.03125,1595.8433837891), target = 5, type = 'end'},
	{Vector(2783.96875,5122.3076171875,609.58502197266), Vector(-2775.7939453125,7807.96875,2578.0463867188), target = 6, type = 'start'},
}

local badPositions = {
	Vector(888.000000, -9216.000000, 14848.000000),
	Vector(0.000000, -10872.000000, 14848.000000),
	Vector(888.000000, -10112.000000, 14848.000000),
	Vector(-888.000000, -10112.000000, 14848.000000),
	Vector(-888.000000, -9216.000000, 14848.000000)
}

local function NewSpawn()
	RunConsoleCommand("sv_maxvelocity", "4096")

	for k, v in pairs(ents.FindByClass("trigger_teleport")) do
		for a, b in pairs(badPositions) do
			if v:GetPos() == b then
				v:Remove()
				break
			end
		end
	end

	SURF.CreateAutohopStepZones(stepAutohopZones)

	local e = ents.Create("surf_stoptimer")
	e:SetTriggerPosition(Vector(-893.80444335938, 7852.3549804688, 1344.03125), Vector(895.96875, 9515.005859375, 2571.8557128906))
	e:SetPos(Vector(-3.6240348815918, 7807.96875, 1346.0228271484))
	e:Spawn()
end
hook.Add("InitPostEntity", "CreateNewSpawn", NewSpawn)


SURF.bonusZones = { 
	Vector(-11747.866210938, 156.28028869629, 12800.03125),
	Vector(4795.1088867188, 5501.9467773438, -9759.96875),
	Vector(-16103.223632813, -13855.907226563, -11359.96875),
	Vector(8126.2568359375, -10717.93359375, -6463.96875),
	Vector(-12096.8046875, -8768.587890625, -927.96875)
}
